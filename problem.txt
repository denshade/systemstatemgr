               state1, state2, state3, state5
Spec file 1 ->   1        1      0       0
Spec file 2 ->   1        0      1       1
Spec file 3 ->   0        0      0       1

Try to merge states?

1 state per spec file. No combinations of state. State combinations are handled by the user.
The problem of conflicting state is left for the user.

